import chisel3._
import chisel3.util._

object RVISA {
    // RV32I Base Integer Instruction Set
    // U-type
    def LUI     = BitPat("b?????????????????????????0110111")
    def AUIPC   = BitPat("b?????????????????????????0010111")
    
    // J-type
    def JAL     = BitPat("b?????????????????????????1101111")
    
    // I-type (JALR)
    def JALR    = BitPat("b?????????????????000?????1100111")
    
    // B-type (Branches)
    def BEQ     = BitPat("b?????????????????000?????1100011")
    def BNE     = BitPat("b?????????????????001?????1100011")
    def BLT     = BitPat("b?????????????????100?????1100011")
    def BGE     = BitPat("b?????????????????101?????1100011")
    def BLTU    = BitPat("b?????????????????110?????1100011")
    def BGEU    = BitPat("b?????????????????111?????1100011")
    
    // I-type (Loads)
    def LB      = BitPat("b?????????????????000?????0000011")
    def LH      = BitPat("b?????????????????001?????0000011")
    def LW      = BitPat("b?????????????????010?????0000011")
    def LBU     = BitPat("b?????????????????100?????0000011")
    def LHU     = BitPat("b?????????????????101?????0000011")
    
    // S-type (Stores)
    def SB      = BitPat("b?????????????????000?????0100011")
    def SH      = BitPat("b?????????????????001?????0100011")
    def SW      = BitPat("b?????????????????010?????0100011")
    
    // I-type (ALU Immediate)
    def ADDI    = BitPat("b?????????????????000?????0010011")
    def SLTI    = BitPat("b?????????????????010?????0010011")
    def SLTIU   = BitPat("b?????????????????011?????0010011")
    def XORI    = BitPat("b?????????????????100?????0010011")
    def ORI     = BitPat("b?????????????????110?????0010011")
    def ANDI    = BitPat("b?????????????????111?????0010011")
    def SLLI    = BitPat("b0000000??????????001?????0010011")
    def SRLI    = BitPat("b0000000??????????101?????0010011")
    def SRAI    = BitPat("b0100000??????????101?????0010011")
    
    // R-type (ALU Register)
    def ADD     = BitPat("b0000000??????????000?????0110011")
    def SUB     = BitPat("b0100000??????????000?????0110011")
    def SLL     = BitPat("b0000000??????????001?????0110011")
    def SLT     = BitPat("b0000000??????????010?????0110011")
    def SLTU    = BitPat("b0000000??????????011?????0110011")
    def XOR     = BitPat("b0000000??????????100?????0110011")
    def SRL     = BitPat("b0000000??????????101?????0110011")
    def SRA     = BitPat("b0100000??????????101?????0110011")
    def OR      = BitPat("b0000000??????????110?????0110011")
    def AND     = BitPat("b0000000??????????111?????0110011")
    
    // System Instructions
    def FENCE   = BitPat("b?????????????????000?????0001111")
    def ECALL   = BitPat("b00000000000000000000000001110011")
    def EBREAK  = BitPat("b00000000000100000000000001110011")
    
    // RV32M Multiply/Divide Extension
    def MUL     = BitPat("b0000001??????????000?????0110011")
    def MULH    = BitPat("b0000001??????????001?????0110011")
    def MULHSU  = BitPat("b0000001??????????010?????0110011")
    def MULHU   = BitPat("b0000001??????????011?????0110011")
    def DIV     = BitPat("b0000001??????????100?????0110011")
    def DIVU    = BitPat("b0000001??????????101?????0110011")
    def REM     = BitPat("b0000001??????????110?????0110011")
    def REMU    = BitPat("b0000001??????????111?????0110011")
    
    // RV32F Single-Precision Floating-Point Extension
    // Loads and Stores
    def FLW     = BitPat("b?????????????????010?????0000111")
    def FSW     = BitPat("b?????????????????010?????0100111")
    
    // Fused Multiply-Add
    def FMADD_S  = BitPat("b?????00??????????????????1000011")
    def FMSUB_S  = BitPat("b?????00??????????????????1000111")
    def FNMSUB_S = BitPat("b?????00??????????????????1001011")
    def FNMADD_S = BitPat("b?????00??????????????????1001111")
    
    // Arithmetic
    def FADD_S  = BitPat("b0000000??????????????????1010011")
    def FSUB_S  = BitPat("b0000100??????????????????1010011")
    def FMUL_S  = BitPat("b0001000??????????????????1010011")
    def FDIV_S  = BitPat("b0001100??????????????????1010011")
    def FSQRT_S = BitPat("b010110000000?????????????1010011")
    
    // Sign Injection
    def FSGNJ_S  = BitPat("b0010000??????????000?????1010011")
    def FSGNJN_S = BitPat("b0010000??????????001?????1010011")
    def FSGNJX_S = BitPat("b0010000??????????010?????1010011")
    
    // Min/Max
    def FMIN_S  = BitPat("b0010100??????????000?????1010011")
    def FMAX_S  = BitPat("b0010100??????????001?????1010011")
    
    // Conversion
    def FCVT_W_S  = BitPat("b110000000000?????????????1010011")
    def FCVT_WU_S = BitPat("b110000000001?????????????1010011")
    def FMV_X_W   = BitPat("b111000000000?????000?????1010011")
    def FCVT_S_W  = BitPat("b110100000000?????????????1010011")
    def FCVT_S_WU = BitPat("b110100000001?????????????1010011")
    def FMV_W_X   = BitPat("b111100000000?????000?????1010011")
    
    // Comparison
    def FEQ_S   = BitPat("b1010000??????????010?????1010011")
    def FLT_S   = BitPat("b1010000??????????001?????1010011")
    def FLE_S   = BitPat("b1010000??????????000?????1010011")
    
    // Classification
    def FCLASS_S = BitPat("b111000000000?????001?????1010011")
    
    // RV32D Double-Precision Floating-Point Extension
    // Loads and Stores
    def FLD     = BitPat("b?????????????????011?????0000111")
    def FSD     = BitPat("b?????????????????011?????0100111")
    
    // Fused Multiply-Add
    def FMADD_D  = BitPat("b?????01??????????????????1000011")
    def FMSUB_D  = BitPat("b?????01??????????????????1000111")
    def FNMSUB_D = BitPat("b?????01??????????????????1001011")
    def FNMADD_D = BitPat("b?????01??????????????????1001111")
    
    // Arithmetic
    def FADD_D  = BitPat("b0000001??????????????????1010011")
    def FSUB_D  = BitPat("b0000101??????????????????1010011")
    def FMUL_D  = BitPat("b0001001??????????????????1010011")
    def FDIV_D  = BitPat("b0001101??????????????????1010011")
    def FSQRT_D = BitPat("b010110100000?????????????1010011")
    
    // Sign Injection
    def FSGNJ_D  = BitPat("b0010001??????????000?????1010011")
    def FSGNJN_D = BitPat("b0010001??????????001?????1010011")
    def FSGNJX_D = BitPat("b0010001??????????010?????1010011")
    
    // Min/Max
    def FMIN_D  = BitPat("b0010101??????????000?????1010011")
    def FMAX_D  = BitPat("b0010101??????????001?????1010011")
    
    // Conversion between formats
    def FCVT_S_D = BitPat("b010000000001?????????????1010011")
    def FCVT_D_S = BitPat("b010000100000?????????????1010011")
    
    // Comparison
    def FEQ_D   = BitPat("b1010001??????????010?????1010011")
    def FLT_D   = BitPat("b1010001??????????001?????1010011")
    def FLE_D   = BitPat("b1010001??????????000?????1010011")
    
    // Classification
    def FCLASS_D = BitPat("b111000100000?????001?????1010011")
    
    // Conversion to/from integer
    def FCVT_W_D  = BitPat("b110000100000?????????????1010011")
    def FCVT_WU_D = BitPat("b110000100001?????????????1010011")
    def FCVT_D_W  = BitPat("b110100100000?????????????1010011")
    def FCVT_D_WU = BitPat("b110100100001?????????????1010011")
}